/* =========================
   CSS — MAXIMAL (NO JS)
   Drop this file in. No HTML included.
   Classes & states use common hooks: .ui-*, [data-*], :root variables, #targets, input:checked hacks.
   ========================= */

/* -------------------------
   Design tokens & globals
   ------------------------- */
:root{
  --bg: #071026;
  --panel: #0d1726;
  --muted: #9fb0c8;
  --ui: 16px;
  --radius: 14px;
  --glass: rgba(255,255,255,0.04);
  --glass-2: rgba(255,255,255,0.06);
  --accent-a: #7ce0ff;
  --accent-b: #7b7dff;
  --accent-c: linear-gradient(90deg,var(--accent-a),var(--accent-b));
  --shadow-1: 0 8px 26px rgba(2,6,23,0.6);
  --shadow-2: 0 18px 60px rgba(2,6,23,0.75);
  --time-fast: 220ms;
  --time-med: 520ms;
  --time-slow: 1.2s;
  color-scheme: dark;
  --max-w: 1200px;
}

/* Theme-safe fallback for older UA */
@supports (color: color(display-p3 1 1 1)) {
  :root { /* no-op placeholder for future expansion */ }
}

/* -------------------------
   Reset & box model rules
   ------------------------- */
*,
*::before,
*::after { box-sizing: border-box; }
html,body { height: 100%; }
body{
  margin:0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:
    radial-gradient(800px 400px at 10% 10%, rgba(123,125,255,0.05), transparent 12%),
    radial-gradient(600px 300px at 90% 90%, rgba(124,224,255,0.04), transparent 12%),
    var(--bg);
  color: #e6eef8;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.35;
  font-size:var(--ui);
  min-width: 280px;
}

/* -------------------------
   Layout utilities
   ------------------------- */
.container{
  max-width: var(--max-w);
  margin: 0 auto;
  padding: clamp(0.6rem, 2vw, 1.4rem);
  display:block;
}

/* simple grid helpers */
.row{ display:flex;flex-wrap:wrap; gap:1rem; }
.col{ flex:1 1 0%; min-width:0; }
.col-1{ flex: 0 0 8.33333% }
.col-2{ flex: 0 0 16.66667% }
.col-3{ flex: 0 0 25% }
.col-4{ flex: 0 0 33.3333% }
.col-6{ flex: 0 0 50% }

/* responsive */
@media (max-width:900px){ .col-3,.col-4{ flex: 0 0 50% } }
@media (max-width:560px){ .row{ gap:.6rem } .col-3,.col-4,.col-6{ flex: 0 0 100% } }

/* spacing helpers (lightweight) */
.gap-s{ gap:.5rem } .gap-m{ gap:1rem } .gap-l{ gap:1.6rem }
.p-1{ padding:.4rem } .p-2{ padding:.8rem } .p-3{ padding:1.2rem }
.m-1{ margin:.4rem } .m-2{ margin:.8rem } .m-3{ margin:1.2rem }

/* -------------------------
   Card / panel system
   ------------------------- */
.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius: var(--radius);
  padding: 1rem;
  box-shadow: var(--shadow-1);
  border: 1px solid rgba(255,255,255,0.03);
  transition: transform var(--time-fast) ease, box-shadow var(--time-fast) ease;
  overflow: hidden;
}
.card:hover{ transform: translateY(-6px); box-shadow: var(--shadow-2) }

/* glass variant */
.card--glass{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  backdrop-filter: blur(6px) saturate(120%);
  border: 1px solid rgba(255,255,255,0.04);
}

/* accent titles */
.hui-title{
  font-weight:800;
  letter-spacing:-0.6px;
  color: var(--accent-a);
  display:inline-block;
}

/* small muted text */
.muted{ color: var(--muted); font-size:.95rem }

/* -------------------------
   Typography helpers
   ------------------------- */
.h1{ font-size: clamp(1.4rem, 3.5vw, 2.4rem); margin:0; line-height:1.02; }
.h2{ font-size: clamp(1.1rem, 2.6vw, 1.6rem); margin:0; }
.lead{ color: var(--muted); font-size: .98rem }

/* -------------------------
   Fancy gradient utilities
   ------------------------- */
.gradient-blob{
  background: radial-gradient(circle at 30% 30%, rgba(124,224,255,0.12), transparent 8%),
              radial-gradient(circle at 70% 70%, rgba(123,125,255,0.08), transparent 8%),
              linear-gradient(90deg, rgba(124,224,255,0.02), rgba(123,125,255,0.02));
}
.accent-pill{
  display:inline-block;padding:.5rem .8rem;border-radius:999px;font-weight:800;
  background: var(--accent-c); color:#031226;
}

/* -------------------------
   3D object (pure CSS)
   Usage: element with class .cube and six children .face
   ------------------------- */
.scene{ perspective: 900px; display:grid; place-items:center }
.cube{
  width: 160px; height:160px; position: relative; transform-style: preserve-3d;
  transform: rotateX(-18deg) rotateY(12deg);
  transition: transform var(--time-med) cubic-bezier(.2,.9,.2,1);
  animation: cubeFloat 7.6s ease-in-out infinite;
}
@keyframes cubeFloat {
  0%{ transform: rotateX(-18deg) rotateY(0) translateY(0) }
  50%{ transform: rotateX(-26deg) rotateY(180deg) translateY(-12px) }
  100%{ transform: rotateX(-18deg) rotateY(360deg) translateY(0) }
}
.cube .face{
  position: absolute; inset:0; margin:auto; width:160px;height:160px; border-radius:12px;
  display:grid; place-items:center; font-weight:800; color:#031226;
  background: linear-gradient(180deg,#fff,#e6f6ff);
  box-shadow: 0 6px 18px rgba(0,0,0,.35);
  opacity: .98;
}
.cube .f1{ transform: translateZ(80px) }
.cube .f2{ transform: rotateY(90deg) translateZ(80px) }
.cube .f3{ transform: rotateY(180deg) translateZ(80px) }
.cube .f4{ transform: rotateY(-90deg) translateZ(80px) }
.cube .f5{ transform: rotateX(90deg) translateZ(80px) }
.cube .f6{ transform: rotateX(-90deg) translateZ(80px) }

/* -------------------------
   CSS-only carousel (radio hack)
   HTML must include radio inputs with ids c-1..c-5 and .carousel-wrap following them
   ------------------------- */
.carousel{ width:100%; max-width:880px; position:relative; overflow:hidden; border-radius:12px }
.carousel-track{
  display:flex; gap:1rem; padding:1rem; transition: transform var(--time-med) cubic-bezier(.2,.8,.2,1);
  will-change: transform;
}
.carousel-item{ min-width: calc(100% - 2rem); flex: 0 0 auto; border-radius:10px; padding:1rem; background: linear-gradient(135deg,#0f1724, rgba(123,125,255,0.04)); border:1px solid rgba(255,255,255,0.03) }
.carousel-controls{ display:flex; justify-content:center; gap:.6rem; margin-top:.6rem }
.carousel-ind{ width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,0.06); display:inline-block }

/* helper positions for up to 5 slides */
#c-1:checked ~ .carousel-wrap .carousel-track{ transform: translateX(0) }
#c-2:checked ~ .carousel-wrap .carousel-track{ transform: translateX(calc(-1 * (100%))) }
#c-3:checked ~ .carousel-wrap .carousel-track{ transform: translateX(calc(-2 * (100%))) }
#c-4:checked ~ .carousel-wrap .carousel-track{ transform: translateX(calc(-3 * (100%))) }
#c-5:checked ~ .carousel-wrap .carousel-track{ transform: translateX(calc(-4 * (100%))) }

/* -------------------------
   Tabs / accordion (radio & details)
   ------------------------- */
/* radio-tab system: inputs with name "tabs" and matching labels should exist */
.tab-panel{ border-radius:12px; padding:1rem; background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); border:1px solid rgba(255,255,255,0.02) }
.tab-controls label{
  padding:.5rem .8rem; border-radius:10px; background:transparent; cursor:pointer; font-weight:700; display:inline-block; margin-right:.35rem;
  transition: transform var(--time-fast), background var(--time-fast), color var(--time-fast);
}
input[type="radio"][name="tabs"]{ display:none }
input[type="radio"][name="tabs"]:checked + label{ background:var(--accent-a); color:#031226; transform: translateY(-2px) }

/* details fallback/supplement */
details[open] summary{ font-weight:800 }
details summary{ cursor:pointer; list-style:none }

/* -------------------------
   Modal (target hack)
   Usage: <a href="#m-id">Open</a> and <section id="m-id" class="modal">...</section>
   ------------------------- */
.modal{
  position:fixed; inset:0; display:grid; place-items:center; visibility:hidden; opacity:0; pointer-events:none;
  transition: opacity var(--time-med) ease, visibility 0s linear var(--time-med);
  background: linear-gradient(180deg, rgba(3,6,12,0.6), rgba(3,6,12,0.75));
  padding:2rem;
}
.modal:target{ visibility:visible; opacity:1; pointer-events:auto; transition-delay:0s }
.modal .modal-card{
  width:min(960px, calc(100% - 3rem)); border-radius:16px; padding:1.2rem; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  box-shadow: var(--shadow-2);
  transform: translateY(18px); transition: transform var(--time-med) ease;
}
.modal:target .modal-card{ transform: translateY(0) }

/* -------------------------
   Masonry via columns (no JS)
   ------------------------- */
.masonry{ column-count: 3; column-gap: 1rem; }
.masonry > *{ break-inside: avoid; margin:0 0 1rem; }
@media (max-width:980px){ .masonry{ column-count:2 } }
@media (max-width:640px){ .masonry{ column-count:1 } }

/* -------------------------
   Fancy masks, clip-paths, blend modes
   ------------------------- */
.mask-wave{
  clip-path: path("M0 60 C 150 0 350 120 600 60 L 600 200 L 0 200 Z");
  background: linear-gradient(90deg, rgba(124,224,255,0.08), rgba(123,125,255,0.06));
}
.blend-glow{ mix-blend-mode: screen; filter: blur(2px) contrast(120%) }

/* -------------------------
   Counters & auto-numbering
   ------------------------- */
ol.auto-num{ counter-reset:section }
ol.auto-num > li{ counter-increment: section; position:relative; padding-left:2.4rem; margin-bottom:.8rem }
ol.auto-num > li::before{
  content: counter(section) ".";
  position:absolute; left:0; top:0; color:var(--accent-a); font-weight:800;
}

/* -------------------------
   Accessibility helpers
   ------------------------- */
.sr-only{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}
.focus-ring:focus{ outline: 3px solid rgba(124,224,255,0.16); outline-offset:4px; }

/* -------------------------
   CSS variables driven animations
   ------------------------- */
@keyframes hueShift {
  0%{ filter:hue-rotate(0deg) }
  50%{ filter:hue-rotate(180deg) }
  100%{ filter:hue-rotate(360deg) }
}
.hue-animate{ animation: hueShift 18s linear infinite }

/* -------------------------
   Progress bars & radial timers (CSS only)
   Use inline style or CSS variable --pct: 0..100
   ------------------------- */
.progress{
  width:100%; height:12px; background: rgba(255,255,255,0.03); border-radius:999px; overflow:hidden;
  border:1px solid rgba(255,255,255,0.02);
}
.progress > .bar{
  height:100%; width: calc(var(--pct, 50) * 1%);
  background: linear-gradient(90deg,var(--accent-a),var(--accent-b));
  transition: width var(--time-med) cubic-bezier(.2,.9,.2,1);
}

/* radial progress (conic) */
.radial{
  --size:72px; width:var(--size); height:var(--size); display:grid; place-items:center; border-radius:50%;
  background: conic-gradient(var(--accent-a) calc(var(--pct,50) * 1%), rgba(255,255,255,0.04) 0%);
  box-shadow: inset 0 -6px 12px rgba(0,0,0,.35);
}

/* -------------------------
   Feature detect fallbacks
   ------------------------- */
/* :has support for interactive container-based selectors (if available) */
@supports(selector(:has(*))) {
  .card:has(.focus-ring:focus){ transform: translateY(-8px); box-shadow: var(--shadow-2) }
}

/* fallback for no backdrop-filter */
@supports ((-webkit-backdrop-filter: blur(6px)) or (backdrop-filter: blur(6px))) { }
@supports not ((-webkit-backdrop-filter: blur(6px)) or (backdrop-filter: blur(6px))) {
  .card--glass{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }
}

/* -------------------------
   Utilities for embedding WASM / iframe-friendly UIs
   ------------------------- */
.embed-frame{ width:100%; height:360px; border-radius:12px; overflow:hidden; border:1px solid rgba(255,255,255,0.03) }

/* -------------------------
   Print & reduced-motion safety
   ------------------------- */
@media print{
  body{ background:white; color:black }
  .no-print{ display:none !important }
}
@media (prefers-reduced-motion: reduce){
  .hue-animate, .cube, .carousel-track, * { animation: none !important; transition: none !important }
}

/* -------------------------
   Small but powerful components
   - Toggle switch (checkbox)
   - Chip / tags
   - Tooltip (data-tip)
   ------------------------- */

/* Toggle switch */
.toggle{
  --w:52px; --h:30px;
  width:var(--w); height:var(--h); border-radius:999px; padding:4px; display:inline-grid; align-items:center;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.03);
}
.toggle input{ display:none }
.toggle .knob{
  width:22px; height:22px; border-radius:50%; background: linear-gradient(180deg,#fff,#dfeaf6); box-shadow: 0 8px 18px rgba(0,0,0,.35);
  transform: translateX(0); transition: transform var(--time-fast) cubic-bezier(.2,.9,.2,1);
}
.toggle input:checked + .knob{ transform: translateX(calc(var(--w) - var(--h))) rotate(12deg) }

/* chips */
.chip{ display:inline-flex; align-items:center; gap:.5rem; padding:.35rem .6rem; border-radius:999px; background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.02) }

/* tooltip from data-tip */
[data-tip]{ position:relative; cursor:help }
[data-tip]::after{
  content: attr(data-tip); position:absolute; left:50%; transform:translateX(-50%) translateY(-8px); top:-.6rem;
  background: rgba(2,6,23,0.95); color: #dfeaf6; padding:.4rem .6rem; border-radius:8px; font-size:.85rem;
  opacity:0; pointer-events:none; transition: transform .12s ease, opacity .12s ease; white-space:nowrap; border:1px solid rgba(255,255,255,0.03)
}
[data-tip]:hover::after{ opacity:1; transform: translateX(-50%) translateY(-18px) }

/* -------------------------
   Final micro-optimizations & helpers
   ------------------------- */
.u-center{ display:grid; place-items:center }
.u-right{ text-align:right }
.u-left{ text-align:left }

/* small accessibility: focus-visible polyfill */
:focus{ outline:none }
:focus-visible{ outline: 3px solid rgba(124,224,255,0.18); outline-offset:4px }

/* -------------------------
   End of stylesheet — tweak variables at top to customize.
   This is the CSS-only engine. Plug matching HTML structure and you're off.
   ========================= */
